<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.goods.dao.GoodsDao">

    <!--统计商品id-->
    <select id="countGoods" parameterType="com.hotgoods.entity.HotGoodsInfo" resultType="int">
        select count(goods_code)
        from
            t_hot_goods
        where goods_code=#{goodsCode}
        and is_deleted=0
    </select>

    <!--统计热门商品序号-->
    <select id="countHotSort" parameterType="com.hotgoods.entity.HotGoodsInfo" resultType="int">
        select count(hot_sort)
        from t_hot_goods
        where hot_sort=#{hotSort}
        and is_deleted=0
    </select>

    <!--新增热门商品-->
    <insert id="addHotGoods" parameterType="com.hotgoods.entity.HotGoodsInfo">
        insert into t_hot_goods
        (hot_goods_code,
         goods_code,
         hot_sort,
         is_deleted,
         create_user,
         create_time,
         update_time,
         last_modified_by,
         version)
        values
           (#{hotGoodsCode},
            #{goodsCode},
            #{hotSort},
            #{isDeleted},
            #{createBy},
            now(),
            now(),
            #{lastModifiedBy},
            0)
    </insert>




</mapper>
